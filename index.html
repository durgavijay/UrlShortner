<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Url Shortener</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="wrapper">
        <script src="https://cdn.lordicon.com/lordicon.js"></script>
<lord-icon
    src="https://cdn.lordicon.com/sbzvueri.json"
    trigger="hover"
    colors="primary:#ffffff,secondary:#66ee78"
    style="width:100px;height:100px">
</lord-icon>
<h1>Shorten a long Url</h1>
<input type="text" id="longUrl" placeholder="Enter URL to Shorten">
<div class="buttons">
<button id="reload-btn">
    <i class='bx bx-refresh'></i>Refresh
</button>

<button id="short-btn">
    <i class='bx bx-link' ></i>Shorten URL
</button>
</div>
<label for="shortUrl">Shortened URL</label>
<textarea id="shortUrl" rows="3"></textarea>



    </div>
<script>
    const shortBtn=document.getElementById('short-btn') ;
    const reloadBtn= document.getElementById('reload-btn') ;
    
    shortBtn. addEventListener('click' ,() =>{
    const longUrl = document. getElementById('longUrl').value;
    const apiUrl=`https://tinyurl.com/api-create.php?url=${encodeURIComponent(longUrl)}`;
    const shortUrlTextarea=document.getElementById("shortUrl");
    
    fetch(apiUrl)
    .then(response =>response.text())
    .then(data=>shortUrlTextarea.value=data)
    .catch(error =>shortUrlTextarea.value="Error:Unable to shorten Url");
    
    });
    
    reloadBtn.addEventListener("click",() =>location.reload());

</script>
</body>
</html>